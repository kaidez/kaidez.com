<!DOCTYPE html>
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js"> <!--<![endif]-->
<head>
   <meta charset="utf-8" />
   <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0" />
   <meta name="description" content="Creating a Facebook app is easy but doing so generates CSS expressions and creates page reflows, all of which reduce page optimization" />
   <title>2 Bad Things About the Facebook App Setup &laquo;  &laquo; kaidez</title>
      <link rel="stylesheet" href="/css/styles.min.css" media="all" />
   <link rel="canonical" href="http://kaidez.com/2-bad-facebook-app-things/" />

   <script>
    WebFontConfig = {
      google: { families: [
        'Roboto Condensed:Book 300',
        'Lato:Normal 300' ] 
      }
    };
    (function() {
      var wf = document.createElement('script');
      wf.src = ('https:' == document.location.protocol ? 'https' : 'http') +
      '://ajax.googleapis.com/ajax/libs/webfont/1/webfont.js';
      wf.type = 'text/javascript';
      wf.async = 'true';
      var s = document.getElementsByTagName('script')[0];
      s.parentNode.insertBefore(wf, s);
     })();
  </script>
  <script src="/js/vendor/modernizr.min.js"></script>
</head>
<body>
  <div id="container" class="containing-element">
    <header id="masthead" class="site-header clearfix" role="banner">
      <h1 id="main-site-header" class="site-title"><a href="/" class="homepage-link">kaidez</a></h1>
      <h2 class="site-description">coding and sharing what I learn</h2>
    </header> <!-- #masthead -->

    <nav id="site-navigation" class="main-navigation" role="navigation">

      <h3 id="menu-heading" class="menu-toggle">Main Navigation</h3>

      <a class="assistive-text" href="#home" title="Skip to content">Skip to content</a>
        
      <ul id="site-navigation-list">
        <li class="site-navigation-list-link"><a href="/tutorials/">TUTORIALS</a></li>  
        <li class="site-navigation-list-link"><a href="/coding-best-practices/">CODE TIPS</a></li>
        <li class="site-navigation-list-link"><a href="/reviews/">REVIEWS</a></li>
        <li class="site-navigation-list-link"><a href="/personal/">PERSONAL</a></li>
      </ul> <!-- #site-navigation-list -->

    </nav> <!-- #site-navigation -->

        <div id="searchbox" class="searchbox-style clearfix">
      <form action="/search.html">
        <input type="text" name="q" id="tipue_search_input" placeholder="Search for JavaScript, HTML5, etc">
        <input type="submit" id="tipue_search_button" value="Search">
      </form>
    </div> <!-- #searchbox -->
    
    <div id="breadcrumbs">
      <a href="/">Home</a> &raquo; <a href="/coding-best-practices/">Coding Best Practices</a> &raquo; 2 Bad Things About the Facebook App Setup
    </div>

    <main id="content" role="main">
    	<h1 class="post-title">2 Bad Things About the Facebook App Setup</h1>
    	<h1></h1>

<p>For the <a href="http://kaidez.com/almay-facebook-page/">Almay/Facebook</a> project I recently worked on, I had to create a Facebook app under their new set of rules, which was interesting.</p>

<p>Creating Facebook apps, which are basically web pages, used to require the Facebook Markup Language (FBML) which is simply a flavor of XML. Facebook recently changed this, saying that developers now simply need to create FB app web pages with HTML, CSS, JavaScript, etc., then host the pages on their own web server. These pages then get fed to Facebook via an iframe.</p>

<p>This is an easier web development process and all the page content displays fine. But I’m in a headspace of creating page code that’s as optimized and as fast-loading as I can get it….my current <a href="http://kaidez.com/mobile-web-development-best-practices-starting-tips/">“thinking mobile”</a> process. That being said, there are two things about the Facebook app setup which, I think, could be made better from a page optimization standpoint.</p>

<p>And it all points back to a JavaScript file named “all.js” that needs to be installed on your web pages in order for the app to work:</p>

<h2>1. CSS Expressions</h2>

<p>According to my app page’s <a href="http://developer.yahoo.com/yslow/">YSlow</a> report, this “all.js” file is capable of inserting three inline CSS expressions on to the page. Affecting Internet Explorer 8 and lower only, CSS expressions are CSS selectors that are updated and manipulated with JavaScript. Here’s the CSS expression example from <a href="http://developer.yahoo.com/performance/rules.html#css_expressions">YDN page</a>:</p>

<p> background-color: expression( (new Date()).getHours()%2 ? “#B8D4FF” : “#F08A00″ );</p>

<p>Basically, this code updates the background color ever hour; however, it runs much more frequently then that. Simple things like scrolling and mouse movements can fire this code off, which slows down the page overall.</p>

<p>This sucks, but no where NEAR as bad as…</p>

<h2>2. Render Tree Reflows</h2>

<p>According to Safari’s Activity Monitor, the “all.js” dynamically adjusts lots of DOM properties when scrolling the page. One simple scroll changed the following DOM properties on the fly:</p>

<ul>
<li>clientWidth</li>
<li>clientHeight</li>
<li>scrollLeft</li>
<li>scrollTop</li>
<li>offsetLeft</li>
<li>offsetTop</li>
</ul>


<p>Changing properties like this triggers a render tree reflow, the recalculation of a web page’s layout and geometry. All of this takes time and browser resources, meaning all of this slows down a page…no good.</p>

<p>Paul Irish discusses this in his most-recent how-to video, “HTML5, CSS3, and DOM Performance” that’s listed below. He alludes to Stoyan Stefanov’s brilliant <a href="http://www.phpied.com/rendering-repaint-reflowrelayout-restyle/">reflow/relayout article</a>, which is the end-all-be-all discussion on the subject.</p>

<p>So Facebook apps are now easier to create but, I feel, still need improvement in terms of page optimization. Feel free to comment and agree or disagree.</p>

    	<div id="related-posts">
    		<h3 class="related-posts-header">MORE POSTS LIKE THIS...</h3>
    		<ul>
    			
            <li class="related-posts-link"><a href="/mobile-web-development-best-practices-starting-tips/">Mobile Web Development Best Practices &#8211; Starting Tips &raquo;</a></li>
          
            <li class="related-posts-link"><a href="/almay-facebook-page/">New Almay Facebook Page I Worked On &raquo;</a></li>
          
            <li class="related-posts-link"><a href="/mobile-web-development-best-practice-resources/">5 Mobile Web Development Best Practice Resources &raquo;</a></li>
          
    		</ul>
      </div> <!-- #related-posts -->
    </div> <!-- #content -->

    <footer id="colophon" class="clearfix" role="contentinfo">

      <section id="about" class="footer-sections">
        <h3 class="footer-header">ABOUT ME</h3>
        <img src="http://livetest.kaidez.com/wp-content/themes/kaidez-2012/img/placeholder.png" id="author-image" alt="The Author">
        <p class="footer-paragraph">I'm a web developer for Revlon. I like to "over-communicate" in my tutorials so beginners can better understand the topics being discussed.
        </p>
      </section> <!-- #about -->

      <section id="social-networking" class="footer-sections">
        <h3 class="footer-header">CONNECT WITH ME</h3>
        <ul id="social-network-list">
          <li id="twitter" class="kaidez-social-network-list-item">
          <a href="http://twitter.com/kaidez" class="kaidez-social-network-link"></a>
          </li>
          <li id="google-plus" class="kaidez-social-network-list-item">
          <a href="https://plus.google.com/115509037875239263451/posts" class="kaidez-social-network-link"></a>
          </li>
          <li id="github" class="kaidez-social-network-list-item"><a href="http://github.com/kaidez/" class="kaidez-social-network-link"></a></li>
          <li id="youtube"><a href="http://www.youtube.com/user/kaidezblog" class="kaidez-social-network-link"></a></li>
        </ul>
      </section> <!-- #social-networking -->

      <section id="contact-form" class="footer-sections">
        <h3 class="footer-header">CONTACT</h3>
        <p id="success-msg" style="display:none">Your message has been sent successfully.</p>
        <form id="contact" method="post">
          <fieldset id="footer-contact-fieldset">
            <p class="footer-contact-fields">
              <input name="form-name" id="form-name" type="text" placeholder="Name" required> 
            </p>
            <p class="footer-contact-fields">
            <input name="form-email" id="form-email" type="email" placeholder="Email" required>  
            </p>
            <p class="footer-contact-fields">
              <textarea tabindex="-8" rows="10" placeholder="Message" class="placeholder" name="message" id="message" required></textarea>
            </p>
          </fieldset>
          <input type="submit" value="Send Your Message" name="submit" class="button">
        </form>
      </section> <!-- #contact-form -->

      <p id="copyright">
        Copyright &copy; 2008-2013 Kai Gittens
      </p> <!-- #copyright -->

    </footer> <!-- #colophon -->
  </div> <!-- #container -->
  
  <script data-main="/js/config.js" src="/js/require.js"></script>

</body>
</html>