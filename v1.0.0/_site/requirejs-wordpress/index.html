<!DOCTYPE html>
<!--[if IE 8]>         <html class="no-js lt-ie9" dir="LTR" lang="en-US" prefix="og: http://ogp.me/ns# fb: http://ogp.me/ns/fb#"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" dir="LTR" lang="en-US" prefix="og: http://ogp.me/ns# fb: http://ogp.me/ns/fb#"> <!--<![endif]-->
<head>
  <meta charset="utf-8" />
  <title>Using RequireJS In WordPress &laquo; Code Tips &laquo; kaidez</title>
  <meta name="description" content="Learn how to use RequireJS in WordPress. Includes a walk-through of how RequireJS works and how WordPress manages JavaScript internally." />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0" />

    
  <link rel="stylesheet" href="/css/styles.css" media="all" />


  <link rel="canonical" href="http://kaidez.com/requirejs-wordpress/" />
  <link rel="publisher" href="https://plus.google.com/u/0/+KaiGittens/posts"/>
  <link rel="author" href="https://plus.google.com/u/0/+KaiGittens/posts"/>
  <link rel="alternate" type="application/rss+xml" href="http://kaidez.com/feed.xml" title="kaidez.com News Feed">

    <meta content="kaidez" property="og:site_name">


  <meta content="Using RequireJS In WordPress" property="og:title">



  <meta content="article" property="og:type">



  <meta content="Learn how to use RequireJS in WordPress. Includes a walk-through of how RequireJS works and how WordPress manages JavaScript internally." property="og:description">



  <meta content="http://kaidez.com/requirejs-wordpress/" property="og:url">



  <meta content="2013-11-11T00:00:00-05:00" property="article:published_time">
  <meta content="http://kaidez.com/colophon.html" property="article:author">



  <meta content="http://kaidez.com/img/require-wordpress.jpg" property="og:image">



  
  <meta content="coding-best-practices" property="article:section">
  



  
  <meta content="RequireJS" property="article:tag">
  
  <meta content="Wordpress" property="article:tag">
  
  <meta content="jQuery" property="article:tag">
  
  <meta content="AMD" property="article:tag">
  
  <meta content="javascript" property="article:tag">
  

  <meta name="twitter:card" content="summary">
  <meta name="twitter:site" content="@kaidez">
  <meta name="twitter:title" content="Using RequireJS In WordPress">
  <meta name="twitter:description" content="Learn how to use RequireJS in WordPress. Includes a walk-through of how RequireJS works and how WordPress manages JavaScript internally.">
  <meta name="twitter:creator" content="@kaidez">

  
  <meta name="twitter:image:src" content="http://kaidez.com/img/require-wordpress.jpg">
  

  <meta name="twitter:domain" content="kaidez">
  
  

    <script src="//ajax.googleapis.com/ajax/libs/webfont/1.4.7/webfont.js"></script>
  <script>
    WebFont.load({
      google: { families: [
        'Roboto Condensed:Book 300',
        'Open Sans:Normal 400',
        'Open Sans:Bold 700' ] 
      }
    });
  </script>

  <script src="/js/libs/modernizr.min.js"></script>
</head>
<body itemscope="itemscope" itemtype="http://schema.org/WebPage">
  <div id="container" class="containing-element">

    <div id="header-nav-wrapper-outer" class="outer-wrapper-nav-header">
      <div id="header-nav-wrapper-inner" class="inner-wrapper-nav-header">
        <header id="masthead" class="site-header clearfix" role="banner" itemscope="itemscope" itemtype="http://schema.org/Organization">
          <div id="header-tag-wrapper" class="top-level-header-wrapper">
            <h1 id="main-site-header" class="site-title"><a href="/" title="kaidez.com home page" class="homepage-link">kaidez</a></h1>
            <h2 class="site-description">closing tags...wrapping functions</h2>
        </header> <!-- #masthead -->

        <div id="nav-search" class="nav-search-style">

                  <nav id="site-navigation" class="main-navigation header-element-margin" role="navigation" itemscope="itemscope" itemtype="http://schema.org/SiteNavigationElement">

          <h3 id="menu-heading" class="menu-toggle">Main Menu</h3>
          <a class="assistive-text" href="#content" title="Skip to content">Skip to content</a>
          <div class="menu-toggle">Here is a description of the links in the main menu</div>
          <ul id="site-navigation-list" class="site-navigation-list-styles">
            <li class="site-navigation-list-link"><a href="/pages/" title="Tutorials on kaidez.com">BLOG</a></li>
            <li class="site-navigation-list-link"><a href="/articles/" title="Tutorials on kaidez.com">ARTICLES</a></li>
            <li class="site-navigation-list-link"><a href="/ajax-tutorial/" title="Coding Tips and Coding Best Practices posts on kaidez.com">AJAX TUTORIAL</a></li>
            <li class="site-navigation-list-link"><a href="/lynda-kaidez/" title="Product and Book Reviews on kaidez.com">KAIDEZ ON LYNDA</a></li>
          </ul> <!-- #site-navigation-list -->

        </nav> <!-- #site-navigation -->


              <div id="searchbox" class="searchbox-style searchbox-display header-element-margin"></div> <!-- #searchbox -->

    <!-- #no-js-searchbox appears if either CSS or JavaScript is disabled -->
    <div id="no-js-searchbox">
      <form action="http://google.com/search" method="get">
        <fieldset role="search">
          <input type="hidden" name="q" value="site:kaidez.com"/>
          <input class="search" type="text" name="q" results="0" placeholder="Search"/>
        </fieldset>
      </form> 
    </div> <!-- #no-js-searchbox -->

        </div>

      </div> <!-- header-nav-wrapper-inner -->

    </div> <!-- #header-nav-wrapper-outer -->

        <div id="breadcrumbs" class="breadcrumb-styles" itemprop="breadcrumb">
      <a href="/" title="kaidez.com home page">Home</a> <span class="breadcrumb-separator">&raquo;</span> <a href="/coding-best-practices/" title="More Code Tips posts on kaidez.com">Code Tips</a> <span class="breadcrumb-separator breadcrumb-last">&raquo;</span> <span class="breadcrumb-last">Using RequireJS In WordPress</span>
    </div>

    <main role="main" id="content" class="page-content" itemscope itemtype="http://schema.org/Blog" itemprop="mainContentOfPage">

      <div class="pageContentPostWrapper" style="background-color: #fff;">

        <article class="pageCopy" itemscope="itemscope" itemtype="http://schema.org/BlogPosting" itemprop="blogPost">

          <header class="postHeader">
            <h1 class="post-title" class="entry-title" itemprop="headline">Using RequireJS In WordPress</h1>

            <time datetime="2013-11-11" itemprop="datePublished" pubdate>November 11, 2013</time>&nbsp;by&nbsp;<span class="author" itemprop="name">Kai "kaidez" Gittens</span>
          </header>

          <div class="googleAdsenceContainer">

    <style>

      /* Default ad size setting: used for desktops */
      .kaidezpostad {
        width: 300px; height: 250px;
      }

      /* for tablets */
      @media(max-width: 728px) {
        .kaidezpostad { width: 200px; height: 200px; }
      }
      
      /* for hand-helds */
      @media(max-width: 568px) {
        .kaidezpostad { width: 125px; height: 125px; }
      }

    </style>

    <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>

      <!-- kaidezPostAd -->
      <ins class="adsbygoogle kaidezpostad"
          style="display:inline-block"
          data-ad-client="ca-pub-7363372172009273"
          data-ad-slot="6054182915"></ins>

      <script>
        (adsbygoogle = window.adsbygoogle || []).push({});
      </script>

</div>


          <div itemprop="text"><p>As mentioned in <a href="/site-redesign-2013/" title="A walk-through of how kaidez.com was redesigned">my 2013 site redesign post</a>, I started redesigning this site on top of <a href="http://wordpress.org/" title="Go to WordPress.org">WordPress</a> but eventually switched over to <a href="http://jekyllrb.com/" title="Go to the Jekyll blog engine site">Jekyll</a>. This was because my goal was to use <a href="http://requirejs.org/" title="Go to requirejs.org">RequireJS</a> to control all the site's JavaScript in a specific way, and WordPress kept me from doing this.</p>

<p>The issue: my RequireJS setup needed to treat <a href="http://jquery.com/" title="Check out the jQuery library">jQuery</a> as a dependency for certain code modules. But a default WordPress install includes jQuery, and WP needs to manage it and other internal JS files in a manner that benefits its entire ecosystem: a manner that imposed limits on what I wanted RequireJS to do.</p>

<p><em>(Side note: this post is long so if you're looking for a quick answer for using RequireJS inside of WordPress, go to the <a href="#jquery-requirejs-wordpress" title="How To Use jQuery, RequireJS &amp; WordPress Together">"How To Use jQuery, RequireJS &amp; WordPress Together"</a> section.)</em></p>

<h2>Table of Contents</h2>

<ol>
<li><a href="#assumptions-notes">Assumptions &amp; Notes</a></li>
<li><a href="#what-is-requirejs">What Is RequireJS?</a></li>
<li><a href="#quick-requirejs-example">A RequireJS Example</a></li>
<li><a href="#bring-jquery-into-wordpress">How I THOUGHT RequireJS Should Bring jQuery Into WordPress</a></li>
<li><a href="#load-js-into-wordpress">The RIGHT Way To Load jQuery Into WordPress</a></li>
<li><a href="#jquery-requirejs-wordpress">How To Use jQuery, RequireJS &amp; WordPress Together</a></li>
<li><a href="#future-requirejs-amd-wordpress">RequireJS/AMD, WordPress &amp; The Future?</a></li>
<li><a href="#conclusion">Conclusion</a></li>
</ol>


<p><a name="assumptions-notes"></a></p>

<h2>Assumptions &amp; Notes</h2>

<p>I'm making a few assumptions:</p>

<p>The main assumption is that you understand WordPress beyond configuring it inside the Dashboard. This post discusses adding code to WordPress files so you should be comfortable doing this. You should also understand that adjusting code in WP is relatively easy when using the <a href="http://codex.wordpress.org/">WordPress Codex</a> as a reference.</p>

<p>All my initial RequireJS/WordPress work was done inside a child theme, a well-defined WP best practice, so I'm assuming you know how to implement this. If not, <a href="http://codex.wordpress.org/Child_Themes" title="How to create a child theme in WordPress">the Child Theme docs in the WordPress Codex</a> clearly describe how it's done.</p>

<p>RequireJS is relatively new when compared to WordPress so I do walk through the former more that the latter, but it's still only a walk-through. RequireJS can do much more than the tasks discussed in this post so I'm assuming that you're curious about RequireJS and have no problem reading a few things to better understand it, starting with the <a href="http://requirejs.org/docs/api.html" title="Read the RequireJS API">RequireJS API docs</a>.</p>

<p>Some notes...</p>

<p>This post should <em>not</em> be looked as my stating that "WordPress is bad." WordPress is awesome and I will continue to use it, but it was not the way to go in order to meet the RequireJS-related goal I set for myself with this redesign. I discuss this at great length in <a href="/site-redesign-2013/#jekyll" title="Read about why kaidez.com switched from WordPress to Jekyll">my site redesign post</a>.</p>

<p>When I started working on the redesign, I was working with WordPress version 3.5.2. I then left for Jekyll and since that time, WordPress has released versions 3.6 and 3.7, the latter being released shortly before this post's publish date.</p>

<p>TwentyTwelve was the default theme for 3.5.2, and was what my child theme was based upon.  Both 3.6 and 3.7 use TwentyThirteen as its default theme, which loads JavaScript onto a WP site differently from TwentyTwelve and previous themes.</p>

<p>I did test <em>some</em> RequireJS things in version 3.6/TwentyThirteen and did no testing in version 3.7 testing at all because it was released roughly three weeks before this post's publish date. So this post's point of view is from using RequireJS inside a 3.5.2/TwentyTwelve setup, but what really matters is how WordPress pre-installs JS libraries and plugins before the themes actually use them. That, I have tested across all the versions and themes mentioned: the pre-install process is the same all around.</p>

<p>And finally, there were some RequireJS things that I struggled with at both the beginning and end of the redesign. I pile a ton of gratitude onto <a href="https://twitter.com/carylandholt" title="Visit Cary Landholt's Twitter page">Cary Landholt</a> for helping me through the struggles.  Spending some time going through <a href="http://www.youtube.com/user/carylandholt" title="Watch Cary Landholt's YouTube screencasts">Cary's YouTube screencasts</a> is time well spent, particularly his RequireJS ones that are geared for beginners. Also, his <a href="https://github.com/CaryLandholt" title="Visit Cary Landholt's GitHub page">GitHub page</a> is full of top-notch code samples.</p>

<p><a name="what-is-requirejs"></a></p>

<h2>What Is RequireJS?</h2>

<p>RequireJS is a script loader written in JavaScript that creates a dependency management system within your website or web app. It's based on the <a href="https://github.com/amdjs/amdjs-api/wiki/AMD">Asynchronous Module Definition (AMD) specification</a> which defines a code pattern for loading JS files in an asynchronous, organized, non-blocking fashion.</p>

<p>Generally speaking, a RequireJS setup consists of two parts:</p>

<ol>
<li><p><strong>A group of modules</strong>: single units of JavaScript code that execute either a code block or a small group of closely-related code blocks. You can create multiple modules, with each module executing the code block(s).</p></li>
<li><p><strong>Configurations</strong>: settings you pass to RequireJS so it can properly manage all the modules within your site or app, making sure everything works seamlessly.</p></li>
</ol>


<p>The modules contain not only the code needed to run your task(s), but also lists the dependencies that this code needs to run the task(s). These dependencies are things like the core jQuery library and plugins</p>

<p>Based on the configurations, RequireJS asynchronously loads the modules and dependencies onto your site. Let's examine this further by looking at an example of how RequireJS works on kaidez.com.</p>

<p><a name="quick-requirejs-example"></a></p>

<h2>A RequireJS Example</h2>

<p>This site's search functionality is powered by the <a href="http://www.tipue.com/search/" title="Read more about Tipue Search">Tipue Search plugin for jQuery</a>. It takes end-user searches and returns the search results based on the data in a JSON object containing the site content.</p>

<p>Tipue needs four separate JS files to work and should be listed in the following order on an HTML page:</p>

<ol>
<li><code>jquery.js</code>: the core jQuery library.</li>
<li><code>tipuesearch_content.js</code>: the file that contains the JSON object with the site content.</li>
<li><code>tipuesearch_set.js</code>: the file that sets rules for certain words inputed into the search field, rules such as "ignore words like 'the' and 'or' in search inputs".</li>
<li><code>tipuesearch.js</code>: the core Tipue plugin code.</li>
</ol>


<p>In the past, setting up this functionality usually meant placing all these files in <code>&lt;script&gt;</code> tags on your HTML page in the order above, then putting your custom Tipue code somewhere below them. RequireJS allows for an easier process.</p>

<p>First, we  add the only <code>&lt;script&gt;</code> tag we need...it should go as close to the bottom of the page as possible:</p>

<div>
  <pre data-line=''><code class='language-markup'>&lt;script data-main=&quot;scripts/config&quot; src=&quot;scripts/require.js&quot;&gt;&lt;/script&gt;</code></pre>
</div>


<p>The info in the <code>data-main</code> attribute refers to a file called <code>config.js</code> which contains the configurations. The <code>.js</code> is purposely left off  because RequireJS <em>always</em> assume that the info referenced in this attribute is a JavaScript file.</p>

<p><code>require.js</code> refers to the file containing the core RequireJS code.</p>

<p>Both files are in a directory called <code>scripts</code>.</p>

<p>The configurations in our <code>config.js</code> file look like this:</p>

<div>
  <pre data-line=''><code class='language-javascript'>// We&#39;re only talking about creating one module here but this is
// the config setup for creating multiple modules. This is
// what&#39;s being discussed because it&#39;s common practice to use
// multiple modules in a site/app build.  The process for
// configuring a single module is discussed over at:
// http://requirejs.org/docs/api.html#define.

requirejs.config({

  baseUrl: &quot;/&quot;,

  deps: [&quot;search&quot;],

  paths: {
    jquery: &quot;libs/jquery.min&quot;, // v.1.10.2
    tipue: &quot;libs/tipuesearch.min&quot;,
    tipueset: &quot;libs/tipuesearch_set&quot;,
    tipuesetContent: &quot;libs/tipuesearch_content&quot;
  },

  shim: {
    tipue: {
      deps: [&quot;jquery&quot;],
      exports: &quot;tipue&quot;
    }
  }
});</code></pre>
</div>


<p>Let's break all this down...</p>

<div>
  <pre data-line=''><code class='language-javascript'>requirejs.config({
...
});</code></pre>
</div>


<p>We wrap our code in a JavaScript object that will pass our configurations to the core RequireJS code.</p>

<div>
  <pre data-line=''><code class='language-javascript'>baseUrl: &quot;/&quot;,</code></pre>
</div>


<p><code>baseURL</code> represents a relative reference to the location of all the JS files that RequireJS must manage. In this case, the location is the <code>scripts</code> folder.</p>

<p><em>(Side note: I'm using a very simplified file structure in order to keep this post from being too long, but the RequireJS docs do outline some best practices in terms of organizing your code.  The <a href="http://requirejs.org/docs/api.html#jsfiles" title="Go to the Load JavaScript Files section in the RequireJS docs">Load JavaScript Files section in the RequireJS docs</a> is the place to read up on this.)</em></p>

<div>
  <pre data-line=''><code class='language-javascript'>deps: [&quot;search&quot;],</code></pre>
</div>


<p><code>deps</code> is an array of all the dependencies for our site or app.  The dependencies are the code modules that we talked about and are really just <code>.js</code> files.  Therefore, the <code>search</code> that's mentioned in the array is referring to a file called <code>search.js</code> and will contain the code needed to make Tipue work on the site.  We'll get to that code shortly and to be clear, <code>search.js</code> is located in the <code>scripts</code> folder.</p>

<div>
  <pre data-line=''><code class='language-javascript'>paths: {
  jquery: &quot;libs/jquery.min&quot;, // v.1.10.2
  tipue: &quot;libs/tipuesearch.min&quot;,
  tipueset: &quot;libs/tipuesearch_set&quot;,
  tipuesetContent: &quot;libs/tipuesearch_content&quot;
},</code></pre>
</div>


<p><code>paths</code> is a JavaScript object that lists the dependencies for the items listed in the <code>deps</code> array...you can think of them as the "dependencies of the dependencies". These files are located in a directory called <code>libs</code> that's in our <code>scripts</code> folder.</p>

<p>As you can see, these are the previously-discussed four files that Tipue needs to function properly on our website. Also note that we're using jQuery 1.10.2: this will be important when we start talking about the last part of the configs.</p>

<div>
  <pre data-line=''><code class='language-javascript'>shim: {
  tipue: {
    deps: [&quot;jquery&quot;],
    exports: &quot;tipue&quot;
  }
}</code></pre>
</div>


<p>As previously-mentioned, RequireJS is based on the AMD spec which defines a code pattern for loading JS files asynchronously. JavaScript files containing this pattern are said to be "AMD-compliant."</p>

<p>If the dependency is not AMD-compliant, RequireJS must force it to be so. That's what's happening here in this <code>shim</code> setting.</p>

<p><code>tipue</code> is a reference to our core Tipue plugin code that was defined in the <code>paths</code> object.  It's not AMD-compliant so it's shimmed in.</p>

<p><code>deps</code> tells RequireJS that the shimmed-in file needs jQuery to work properly. <code>exports</code>, a core <a href="http://nodejs.org/" title="Learn more about Node.js">Node.js</a> concept, properly exposes the shimmed-in file to RequireJS so it can treat it as a dependency based on the AMD spec.</p>

<p>Both the <code>tipueset</code> and <code>tipuesetContent</code> files listed in <code>paths</code> are also not AMD-compliant; however, they're just providing support for <code>tipue</code> to do its job instead of executing code. In this instance, there's no need to shim them.</p>

<p>jQuery also doesn't need to be shimmed in. This is because we're using version 1.10.2 and <a href="http://blog.jquery.com/2011/11/03/jquery-1-7-released/" title="Read about jQuery's support for AMD">jQuery has been AMD-compliant since version 1.7</a>.</p>

<p>Now that our configs are set, we need to create the code that runs our Tipue search functionality. This goes into the <code>search.js</code> file that we referred to earlier in our <code>deps</code> array and looks like this:</p>

<div>
  <pre data-line=''><code class='language-javascript'>define([&quot;jquery&quot;,&quot;tipuesetContent&quot;,&quot;tipueset&quot;,&quot;tipue&quot;], function($, tipuesetContent, tipueset, tipue) {

  $(&quot;#tipue_search_input&quot;).tipuesearch({
    &quot;show&quot;: 10,
    &quot;showURL&quot;: false,
    &quot;highlightEveryTerm&quot;: true
  });

});</code></pre>
</div>


<p>The <code>define()</code> method first defines all the code's dependencies in the array, then passes them as parameters for use by a callback function. Note that they're listed in the order outlined above: RequireJS will load things in this order.</p>

<p>The callback function contains our custom code, which does the following tasks:</p>

<ul>
<li>It takes the returned search results and places them in a page element with an id of <code>tipue_search_input</code></li>
<li>It will "show" 10 results per page.</li>
<li>it will not "show the URL" for each result.</li>
<li>It will "highlight" whatever the search term was by bolding it.</li>
</ul>


<p>Our code is done. When our HTML page loads into a browser, <code>scripts/require.js</code> looks at the configurations in <code>scripts/config</code> and notices the <code>deps: ["search"]</code> setting, which refers to <code>scripts/search.js</code>.  It then sees that <code>search</code> needs four files to work properly, all of which are listed in the <code>paths</code> object.</p>

<p>RequireJS loads these four files and <code>scripts/search.js</code> into the <code>&lt;head&gt;</code> tag, and in the proper order. If the <code>&lt;script&gt;</code> tag is placed as close to the bottom of the page as possible, all the files will usually load in a manner that doesn't slow down your site's/app's load time. The code in <code>scripts/search.js</code> executes after everything loads.</p>

<p><em>(Side note: your project's RequireJS files can be concatenated and minified down to a single file, but discussing this is outside the scope of this post. The <a href="http://requirejs.org/docs/optimization.html" title="Learn about optimizing RequireJS">RequireJS optimization docs</a> outline how to get this done. Plus, Cary Landholt has <a href="http://www.youtube.com/watch?v=m6VNhqKDM4E," title="Check out Cary Landholt's screencast on optimizing RequireJS">a great YouTube screencast on RequireJS Optimization</a>.)</em></p>

<p>This was the code that I wanted to integrate into WordPress...and  this was where I started running into problems. Understanding these problems "requires" an understanding a few things about WordPress.</p>

<p><a name="bring-jquery-into-wordpress"></a></p>

<h2>How I THOUGHT RequireJS Should Bring jQuery Into WordPress</h2>

<p>While TwentyThirteen preloads jQuery and other JavaScript files into the site's HTML, the TwentyTwelve theme I was working with does not. I was fine with this because as the above example illustrates, you only need to load one <code>script</code> tag onto the page to get RequireJS working.</p>

<p>As mentioned in the beginning, a default WordPress install contains jQuery other internal JS files. So I figured that I would just bring jQuery into my RequireJS configs by pointing to where WordPress placed it during install via the <code>paths</code> object:</p>

<div>
  <pre data-line=''><code class='language-javascript'>paths: {
  // This ignores the &#39;baseURL&#39; setting, but works well for Wordpress
  http://kaidez.com/wp-includes/js/jquery/jquery.js,
  ...
}</code></pre>
</div>


<p>This worked fine for my RequireJS setup but creates potential future problems inside of WordPress.
<a name="load-js-into-wordpress"></a></p>

<h2>The RIGHT Way To Load jQuery Into WordPress</h2>

<p>The default WordPress install contains many JS file that are "registered," meaning that WP knows they exist but doesn't necessarily load them into the theme's HTML. jQuery is an unloaded registered file in TwentyTwelve so it can come into the HTML in one of two ways:</p>

<ol>
<li>a WordPress plugin that needs jQuery loads it in during the plugin's install.</li>
<li>a WordPress PHP function called <code>wp_enqueue_script</code> loads it onto the page.  This needs to be hand-written and should be placed in a custom <code>functions.php</code> file in your child theme...read more about <a href="http://codex.wordpress.org/Function_Reference/wp_enqueue_script" title="Read more about wp_enqueue_script">wp_enqueue_script</a> and <a href="http://codex.wordpress.org/Functions_File_Explained" title="Read more about functions.php">functions.php</a></li>
</ol>


<p>Once a registered file is loaded in like this, WordPress knows not to install it again.  In other words, if jQuery loads into the HTML via either a plugin or <code>wp_enqueue_script</code>, subsequent plugins requiring jQuery won't install it and will just use the one already installed.</p>

<p>Looking at my code snippet above, I didn't use any of these two methods...I just referred to the file in the <code>paths</code> object. This meant that WordPress had absolutely NO idea that jQuery was already on the site.</p>

<p>As a result, if I installed a WordPress plugin requiring jQuery, WP would load it into the HTML, meaning there would be two jQuery files on my page and that's not good. I was 99.99999% sure that I wouldn't be using such plugins and this would be a non-issue, but I wasn't 100% sure.
<a name="jquery-requirejs-wordpress"></a></p>

<h2>How To Use jQuery, RequireJS &amp; WordPress Together</h2>

<p>With the 3.5.2/ TwentyTwelve setup, the safest thing to do was to use <code>wp_enqueue_script</code> to bring jQuery into the HTML. The code for this would be placed in the just-mentioned <code>functions.php</code> file and would look like this:</p>

<div>
  <pre data-line=''><code class='language-markup'>&lt;?php
function my_scripts_method() {
  wp_enqueue_script( &#39;jquery&#39; );
}

add_action( &#39;wp_enqueue_scripts&#39;, &#39;my_scripts_method&#39; );
?&gt;</code></pre>
</div>


<p>This loaded jQuery onto my page while preventing jQuery duplicates from loading, but I wasn't sure how to integrate this setup with my RequireJS functionality.</p>

<p>I surfed the web awhile looking for an answer, eventually posting something on RequireJS' GitHub Issue Tracker. It was at that point that RequireJS creator <a href="https://github.com/jrburke/requirejs/issues/622" title="James Burke shows how to use RequireJS inside WordPress">James Burke gave me an answer</a> so simple that to this day, I'm kicking myself for not figuring it out on my own:</p>

<blockquote><p><em>"...if jquery is already in the page, what you could do is detect for it before doing [a] require() loading and set it up as the 'jquery' module value:</em></p></blockquote>

<div>
  <pre data-line=''><code class='language-javascript'>if (typeof jQuery === &#39;function&#39;) {
  define(&#39;jquery&#39;, function () { return jQuery; });
}
//Now require your code:
require([&#39;app&#39;], function (){});</code></pre>
</div>


<blockquote><p><em>This assumes jquery was loaded before the require call. If so, then this approach means requirejs will not load another version of jquery."</em></p></blockquote>

<p>Yup...kicking myself for missing the obvious. Had I stuck with WordPress, I would apply <code>wp_enqueue_script</code> to jQuery in using the method above, then setup <code>search.js</code> like this:</p>

<div>
  <pre data-line=''><code class='language-javascript'>if (typeof jQuery === &#39;function&#39;) {
  define(&#39;jquery&#39;, function () { return jQuery; });
}

define([&quot;jquery&quot;,&quot;tipuesetContent&quot;,&quot;tipueset&quot;,&quot;tipue&quot;], function($, tipuesetContent, tipueset, tipue) {

  $(&quot;#tipue_search_input&quot;).tipuesearch({
    &quot;show&quot;: 10,
    &quot;showURL&quot;: false,
    &quot;highlightEveryTerm&quot;: true
  });

});</code></pre>
</div>


<p>I tested this inside of WordPress and it worked like a charm, but I had to get jQuery on the page via <code>wp_enqueue_script</code>. This meant that jQuery would be placed in a <code>&lt;script&gt;</code> tag on my page and be excluded from my final RequireJS build.</p>

<p>This is, generally, not how RequireJS works and I was very stubborn about managing all my site's JavaScript with RequireJS so I could better understand how it works. It was at this point that I went over to Jekyll but if I ever need to use RequireJS and WordPress together, I would do so using the method above.</p>

<p><a name="future-requirejs-amd-wordpress"></a></p>

<h2>RequireJS/AMD, WordPress &amp; The Future?</h2>

<p>RequireJS and AMD are gaining in popularity so integrating them into WordPress is worth a discussion. Web searches show some RequireJS implementations inside of WordPress by developers, but there's no indication from the core WP team that AMD functionality will be bundled in a future version.</p>

<p>An interesting discussion has built up around <a href="http://core.trac.wordpress.org/ticket/23285" title="Read the feature request to bring AMD into WordPress">a feature request ticket to bring AMD JavaScript loading into WordPress</a>. Referring primarily to jQuery, the discussion's main point is that the various WordPress plugins don't necessarily use the same versions of the JavaScript library. Some plugins require an older version of jQuery: creating an AMD system that allows plugin developers to load an older version is offered as a solution to the problem.</p>

<p>WordPress somewhat solved this problem with the release of the TwentyThirteen theme. The theme comes bundled with <a href="https://github.com/jquery/jquery-migrate/" title="Go to main the jQuery Migrate page">jQuery Migrate</a>, which detects and loads deprecated jQuery features. Plugin developers in need of jQuery's older features can take advantage of this, after testing things, of course.</p>

<p>At the same time, the core WordPress team encourages plugin authors to update their plugin code when one of their dependencies get updated. jQuery Migrate may be solving a problem, but the core team would prefer it if authors applied updates themselves...WordPress SEO plugin creator <a href="http://yoast.com/why-we-dont-support-old-wordpress-versions/" title="Read 'Why we donâ€™t support old WordPress versions' by Joost de Valk">Joost de Valk wrote a great post on this subject</a>.</p>

<p>Even if jQuery Migrate didn't solve this problem, I'm of the opinion that WordPress can't do much more than this right now. Integrating RequireJS or another AMD JavaScript solution is nice to have in WP, but not crucial to its growth and survival. And doing so would mean a major code rewrite of how WordPress already handles JavaScript, which is currently fine as is.</p>

<p>Simply put, WordPress is content management system meant to solve customer and business problems. It needs to be demonstrated that AMD/RequireJS can solve such a problems and until that happens, I can't see this functionality landing into WordPress...just my opinion on all this.</p>

<p><a name="conclusion"></a></p>

<h2>Conclusion</h2>

<p>Bringing RequireJS into WordPress is possible, but you may have to make adjustments in some spots to make sure everything works. That's a natural occurrence in web development though, so feel free to review the many links above and go ahead and do so.</p>
</div>

        </article>

        <div id="share-post-container" class="share-post-container-class clearfix">
          <h3 id="share-post-container-header" class="share-post-container-header-class sharePostStructure">SHARE THIS POST:</h3>
          <ul id="social-sharing-list-post" class="social-sharing-list-post-class sharePostStructure">

            <li class="social-sharing-list-item fb-post-share-match"><a href="https://twitter.com/share" title="Share Using RequireJS In WordPress on Twitter" target="blank" class="share-post-link">Twitter</a></li>

            <li class="social-sharing-list-item fb-post-share-match"><a href="https://plus.google.com/share?url=http://kaidez.com/requirejs-wordpress/" title="Share Using RequireJS In WordPress on Facebook" target="blank" class="share-post-link">Google+</a></li>

            <li id="fb-root" class="social-sharing-list-item" style="margin-bottom:15px;"><a href="http://www.facebook.com/sharer.php?u=http://kaidez.com/requirejs-wordpress/&t=Using RequireJS In WordPress" class="share-post-link fb" title="Share Using RequireJS In WordPress on Google Plus" target="blank">Facebook</a></li>

          </ul> <!-- #social-sharing-list-post -->

        </div> <!-- #share-post-container -->

        <div id="related-posts" class="related-posts-style">

          <h3 class="related-posts-header">MORE POSTS LIKE THIS:</h3>

          <ul id="related-posts-list">

            

            <li class="related-posts-list-item"><a href="/take-css-seriously/" title="Start Taking CSS Seriously">Start Taking CSS Seriously &raquo;</a></li>

            

            <li class="related-posts-list-item"><a href="/click-to-tweet-link/" title="TUTORIAL: Create A 'Click to Tweet' link with JavaScript">TUTORIAL: Create A 'Click to Tweet' link with JavaScript &raquo;</a></li>

            

            <li class="related-posts-list-item"><a href="/write-code-every-f--king-day/" title="Write Code Every F#%king Day!">Write Code Every F#%king Day! &raquo;</a></li>

            

          </ul>

          <!-- Start Disqus Code -->

            
  
  <div id="disqus_thread"></div>
    <script type="text/javascript">
        /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
        var disqus_shortname = 'kaidez'; // required: replace example with your forum shortname

        /* * * DON'T EDIT BELOW THIS LINE * * */
        (function() {
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
      

  

          <!-- End Disqus Code -->

        </div> <!-- #related-posts -->
      </div> <!-- .pageContentPostWrapper -->

    </main> <!-- #content -->

        <aside id="aside-outer-wrapper" class="aside-outer-wrapper-class clearfix">
      <h3 id="menu-heading" class="menu-toggle">Other site information</h3>
      <div id="aside-inner-wrapper" class="aside-inner-wrapper-class">

        <div id="aside-column-one" class="aside-column-class clearfix">

          <section id="aside-about-section" class="aside-about-section-class all-aside-sections">

            <h3 class="aside-section-header">ABOUT ME</h3>

            <img src="/img/profilepic.jpg" height="100" width="100" id="author-image" class="author-image-class" alt="picture of Kai'kaidez' Gittens">

            <p class="aside-paragraph">
              I'm a web developer for Everyday Health and have written code for Revlon, the United Nations and Trump Magazine. I try to over communicate in my tutorials so beginners can better understand the topics being discussed.
            </p>

          </section> <!-- #-aside-about-section -->

          <section id="aside-ad-section" class="aside-ad-section-class all-aside-sections">

            <h3 class="aside-section-header ad-title-margin">ADVERTISMENT</h3>

          </section> <!-- #aside-ad-section -->

        </div> <!-- #aside-column-one -->

        <div id="aside-column-two" class="aside-column-class mid-aside-margin clearfix">

          <section id="aside-nav-section" class="aside-nav-section-class all-aside-sections">

            <h3 class="aside-section-header">NAVIGATION</h3>

            <ul id="aside-navigation" class="aside-nav-class">

              <li class="aside-nav-list-item"><a href="/" title="kaidez.com home page" class="aside-nav-link">HOME</a></li>

              <li class="aside-nav-list-item"><a href="/tutorials/" title="Tutorials on kaidez.com" class="aside-nav-link">TUTORIALS</a></li>

              <li class="aside-nav-list-item"><a href="/coding-best-practices/" title="Coding Tips and Coding Best Practices posts on kaidez.com" class="aside-nav-link">CODE TIPS</a></li>

              <li class="aside-nav-list-item"><a href="/reviews/" title="Product and Book Reviews on kaidez.com" class="aside-nav-link">REVIEWS</a></li>

              <li class="aside-nav-list-item"><a href="/personal/" title="Personal and Random posts on kaidez.com" class="aside-nav-link">PERSONAL</a></li>

              <li class="aside-nav-list-item"><a href="/articles/" title="In depth articles from kaidez" class="aside-nav-link">ARTICLES</a></li>
            </ul> <!-- #aside-navigation -->

          </section> <!-- #aside-nav-section -->

          <section id="aside-social-network-section" class="aside-social-network-section-class all-aside-sections">

            <h3 class="aside-section-header">CONNECT WITH ME</h3>

            <ul id="kaidez-social-network-list" class="kaidez-social-network-list-styles">

              <!-- twitter link -->
              <li class="kaidez-social-sharing-list-item clearfix">
                <a href="http://twitter.com/kaidez" title="Visit kaidez on Twitter" class="kaidez-social-link"><i class="fa fa-twitter"></i> twitter</a>
              </li>

              <!-- google+ link -->
              <li class="kaidez-social-sharing-list-item clearfix">
                <a href="https://plus.google.com/109412257237874861202?
   rel=author" title="Visit kaidez on Google Plus" class="kaidez-social-link"><i class="fa fa-google-plus"></i> google+</a>
              </li>

              <!-- github link -->
              <li class="kaidez-social-sharing-list-item clearfix">
                <a href="http://github.com/kaidez" title="Visit kaidez on GitHub" class="kaidez-social-link"><i class="fa fa-github"></i> github</a>
              </li>

              <!-- youtube link -->
              <li class="kaidez-social-sharing-list-item clearfix">
                <a href="http://www.youtube.com/user/kaidezblog/videos" title="Visit kaidez on YouTube" class="kaidez-social-link"><i class="fa fa-youtube"></i>  youtube</a>
              </li>

              <!-- feedburner link -->
              <li class="kaidez-social-sharing-list-item clearfix">
                <a href="http://feeds.feedburner.com/kaidez-blog" title="Subscribe to kaidez.com's RSS Feed" class="kaidez-social-link"><i class="fa fa-rss"></i>  rss</a>
              </li>

            </ul> <!-- #social-network-list -->

          </section> <!-- #aside-social-network-section -->

        </div> <!-- #aside-column-two -->

        <div id="aside-column-three" class="aside-column-class clearfix">

          <section id="aside-contact-form-section" class="all-aside-sections aside-form-height">

            <h3 class="aside-section-header">CONTACT</h3>

            <p id="successMsg" class="successMsgClass">Your message has been sent successfully.</p>

            <form id="contact" name="contactForm" method="post">

              <span id="allFieldRequiredText"><i>*all fields are required</i></span>

              <fieldset id="aside-contact-fieldset" class="aside-contact-fieldset-styles">

                <p class="aside-contact-fields inputFieldHeight">
                  <label for="formNameField">YOUR NAME</label>
                  <input name="name" type="text" id="formNameField" class="contact-form-field" aria-required="true" required>
                  <span id="nameError" class="error"></span>
                </p>

                <p class="aside-contact-fields inputFieldHeight">
                  <label for="formEmailField">YOUR EMAIL</label>
                  <input name="email" type="email" id="formEmailField" class="contact-form-field" aria-required="true" required>
                  <span id="emailError" class="error"></span>
                </p>

                <p class="aside-contact-fields textareaHeight">
                  <label for="messageField">YOUR MESSAGE</label>
                  <textarea tabindex="-8" rows="10" name="text" id="formMessageField" class="contact-form-field" aria-required="true" required></textarea>
                  <span id="textError" class="error"></span>
                </p>
                <p class="clearfix">
                  <button class="ladda-button" data-style="expand-right"><span class="ladda-label">Submit</span></button>
                </p>

              </fieldset> <!-- #aside-contact-fieldset -->

            </form> <!-- #contact -->

          </section> <!-- #aside-contact-form-section -->

        </div> <!-- #aside-column-three -->

      </div> <!-- #aside-nav-wrapper-inner -->

    </aside> <!-- #aside-outer-wrapper -->


        <footer id="footer-outer-wrapper" class="footer-outer-wrapper-class" itemscope="itemscope" itemtype="http://schema.org/WPFooter" role="contentinfo">

      <div class="footer-inner-wrapper-class clearfix">

        <div id="colophon" class="colophon-class clearfix">
      	  <h3 class="colophon-header">POWERED BY:</h3 class="colophon-header">
          <ol id="colophon-list" class="colophon-list-class">
            <li class="jekyll colophon-list-item-class"><a href="http://jekyllrb.com/" title="Visit Jekyll: a static site generator" class="jekyll-link">Jekyll</a></li>
            <li class="mediaTemple colophon-list-item-class"><a href="http://www.mediatemple.net#a_aid=5068b81963acf " title="Visit Media Temple: an excellent web host" class="mediaTemple-link">Media Temple</a></li>
            <li class="maxcdn colophon-list-item-class"><a href="http://tracking.maxcdn.com/c/72639/3968/378" title="Visit MaxCDN: a content delievery network provider" class="maxcdn-link">MaxCDN</a></li>
          </ol> <!-- #colophon-list -->
        </div> <!-- #colophon -->

        <div id="copyright" class="copyright-style clearfix">
          Copyright &copy; 2008-2015 Kai Gittens
          <p>
            <a href="/affiliate-disclaimer.html" title="kaidez.com affiliate disclaimer" class="footer-links">Affiliate Disclaimer</a> <span class="footerLinkDivider">|</span> <a href="/colophon.html" title="kaidez.com colophon" class="footer-links">Colophon</a> <span class="footerLinkDivider">|</span> <a href="/sitemap.html" title="Site map: review all page links on kaidez.com" class="footer-links">Site Map</a>
          </p>
        </div> <!-- #copyright -->

      </div> <!-- footer-inner-wrapper-class -->
        <a class="jumpToTopText" href="#container" title="Go back to the top">BACK TO TOP</a>
        <img height="1" width="1" src="http://tracking.maxcdn.com/i/72639/3968/378" border="0" />
    </footer> <!-- #footer-outer-wrapper -->


  </div> <!-- #container -->

    <script>
    (function(doc, script) {
      var js, 
        fjs = doc.getElementsByTagName(script)[0],
        frag = doc.createDocumentFragment(),
        add = function(url, id) {
          if (doc.getElementById(id)) {return;}
          js = doc.createElement(script);
          js.src = url;
          id && (js.id = id);
          frag.appendChild( js );
        };
      
        // Google+ button
        add('http://apis.google.com/js/plusone.js');

        // Facebook SDK
        add('//connect.facebook.net/en_US/all.js#xfbml=1&appId=200103733347528', 'facebook-jssdk');
        
        // Twitter SDK
        add('//platform.twitter.com/widgets.js');

        fjs.parentNode.insertBefore(frag, fjs);
    }(document, 'script'));
  </script>

      <script src="/js/scripts.min.js"></script>

  

  
</body>
</html>
